{% extends "sourceCode/base.html" %}
{% block content %}
    <div class="advance-search-section">
      <form class="advance-search-form" action="." method="GET">
        <div class="form-row">
          <div class="form-group col-12">
            <div class="input-group">
              <input class="form-control py-2 border-right-0 border" type="search" name="company_contains" placeholder="COMPANY SEARCH..">
              <span class="input-group-append">
                <div class="input-group-text bg-transparent">
                  <i class='fa fa-search'></i>
                </div>
              </span>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-12">
            <div class="input-group">
              <input class="form-control py-2 border-right-0 border" type="search" name="role_contains" placeholder="ROLE SEARCH..">
              <span class="input-group-append">
                <div class="input-group-text bg-transparent">
                  <i class='fa fa-search'></i>
                </div>
              </span>
            </div>
          </div>
        </div>
        <div class="form-row d-flex justify-content-around">
          <div class="form-group col-md-2 col-lg-3">
            <label for="publishDateMin">Applied date minimun</label>
            <input type="date" class="form-control" id="publishDateMin" name="date_min">
          </div>
          <div class="form-group col-md-2 col-lg-3">
            <label for="publishDateMax"> Applied date maximum</label>
            <input type="date" class="form-control" id="publishDateMax" name="date_max">
          </div>
          <div class="form-group col-md-4">
            <label for="inputState">Status</label>
            <select id="inputState" class="form-control" name="status">
              <option selected disabled>Choose...</option>
              {% for x, y in qs_status.choices %}
                  <option value="{{x}}">{{ y }}</option>
              {% endfor %}
            </select>
          </div>
        </div>
        <button type="submit" class="btn btn-primary">Search</button>
      </form>

      {% for job in queryset %}
      <div class="card">
        <div class="card-header d-flex justify-content-around align-items-end">
          <p>Applied on: {{ job.date_applied|date:"M d, Y" }}</p>
          <p>Status: {{ job.status }}</p>
        </div>
        <div class="card-body">
          <p>Company :</p> <span class="ml-4">
              {{ job.company }}</span>
          <p>Role :</p> <span class="ml-4">{{ job.role }}</span>
        </div>
        <div class="card-footer">
          <a href="{% url 'post-update' job.id %}" title="update">
            <i class='fas fa-pen-alt update-icon'></i>
          </a>
          <a href="{% url 'post-delete' job.id %}" title="delete">
            <i class='far fa-trash-alt delete-icon'></i>
          </a>
        </div>
    </div>
      {% endfor %}
    </div>

{% endblock content %}
